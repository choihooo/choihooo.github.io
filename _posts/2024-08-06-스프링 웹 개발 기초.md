---
title: ìŠ¤í”„ë§ ì›¹ ê°œë°œ ê¸°ì´ˆ
date: 2024-08-06 00:37:19+0900
categories: [Backend, Spring]
tags: [spring]
---

# 1. ì •ì  ì»¨í…ì¸ 
ì›¹ì„ ê°œë°œí•˜ëŠ” ì¢…ë¥˜ì—ëŠ” í¬ê²Œ 3ê°€ì§€ ì¢…ë¥˜ê°€ ìˆë‹¤.

- ì •ì  ì»¨í…ì¸  â†’ í•˜ë“œì½”ë”©
- MVCì™€ í…œí”Œë¦¿ ì—”ì§„ â†’ JSP, PHP, HTMLì„ ë™ì ìœ¼ë¡œ
- API

<br/>

## ì •ì  ì»¨í…ì¸ 

ê³µì‹ ë¬¸ì„œì— `Static Content` ê²€ìƒ‰

ì •ì  ì»¨í…ì¸ ëŠ” ëª¨ë‘ resources/static ì— ì‘ì„±ëœë‹¤.

<br/>

### ì‘ë™ ìˆœì„œ

1. ì›¹ ë¸Œë¼ìš°ì €ì—ì„œ ì„œë²„ì— ìš”ì²­ì„ ë³´ë‚¸ë‹¤.
2. ë‚´ì¥ í†°ì¼“ ì„œë²„ì—ì„œ ê´€ë ¨ ì»¨íŠ¸ë¡¤ëŸ¬ë¥¼ ì°¾ëŠ”ë‹¤.
3. ê´€ë ¨ ì»¨íŠ¸ë¡¤ëŸ¬ê°€ ì—†ìœ¼ë‹ˆ static í´ë”ì—ì„œ ê´€ë ¨ ì •ì  ì»¨í…ì¸ ë¥¼ ì°¾ëŠ”ë‹¤.
4. ì»¨í…ì¸ ë¥¼ ë¸Œë¼ìš°ì €ë¡œ ë°˜í™˜í•œë‹¤.


# 2. MVCì™€ í…œí”Œë¦¿ ì—”ì§„
MVC

- Model â†’ ë°ì´í„°ì™€ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ ê´€ë¦¬
- View â†’ í™”ë©´ì„ ê·¸ë¦¬ëŠ” ìš”ì†Œ
- Controller â†’ ì‚¬ìš©ìì˜ ìš”ì²­ì„ ì²˜ë¦¬í•˜ê³  ì ì ˆí•œ ëª¨ë¸ê³¼ ë·° í˜¸ì¶œ

<br/>

### Controller

```java
 @Controller
 public class HelloController {
     @GetMapping("hello-mvc")
     public String helloMvc(@RequestParam("name") String name, Model model) {
         model.addAttribute("name", name);
         return "hello-template";
     }
}
```

- `@RequestParam("name")` â†’ nameì´ë¼ëŠ” ì´ë¦„ì„ ê°€ì§„ ë§¤ê°œë³€ìˆ˜ë¥¼ í•˜ë‚˜ ë°›ì•„ì•¼í•œë‹¤.
    - ê·¸ëƒ¥ ì ‘ì†í•˜ê²Œ ëœë‹¤ë©´
    - http://localhost:8080/hello-mvc í•´ë‹¹ urlë¡œ ì ‘ì†í•˜ë‹ˆ í•´ë‹¹ ì—ëŸ¬ê°€ ëœ¸
    
    ```
    2024-08-06T00:03:32.527+09:00  WARN 65156 --- [hello-spring] 
    [nio-8080-exec-1] .w.s.m.s.DefaultHandlerExceptionResolver : 
    Resolved [org.springframework.web.bind.MissingServletRequestParameterException: 
    Required request parameter 'name' for method parameter type String is not present]
    ```
    
<br/>

### View

```html
<html xmlns:th="http://www.thymeleaf.org">
	<body>
		<p th:text="'hello ' + ${name}">hello! empty</p>
	</body>
</html>
```

ì„œë²„ì—†ì´ ê·¸ëƒ¥ ì—´ë©´ `hello! empty`ê°€ ëœ¬ë‹¤

<br/>

### ë™ì‘ ê³¼ì •

1. http://localhost:8080/hello-mvc?name=choiho ë¡œ ë¸Œë¼ìš°ì €ê°€ ìš”ì²­ì„ ë³´ë‚¸ë‹¤
2. ë‚´ì¥ í†°ì¼“ ì„œë²„ì—ì„œ ê´€ë ¨ ì»¨íŠ¸ë¡¤ëŸ¬ë¥¼ ì°¾ëŠ”ë‹¤.
3. ì»¨íŠ¸ë¡¤ëŸ¬ì—ì„œ ê°’ì„ ë°›ì•„ hello-templateì— ë°˜í™˜í•œë‹¤.
4. viewResolverì—ì„œ templates/hello-template.htmlì„ ì²˜ë¦¬í•´ ë°˜í™˜í•œë‹¤.

<br/>

# 3. API
## @ResponseBody ë¬¸ì ë°˜í™˜

```java
@GetMapping("hello-string")
@ResponseBody
public String helloString(@RequestParam("name") String name) {
	return "hello " + name;
}
```

- `@ResponseBody`ë¥¼ ì‚¬ìš©í•˜ë©´ ë·° ë¦¬ì¡¸ë²„ë¥¼ ì‚¬ìš©í•˜ì§€ ì•ŠëŠ”ë‹¤.
- HTTPì˜ ë°”ë””ì— ë¬¸ì ë‚´ìš©ì„ ì§ì ‘ ë°˜í™˜í•œë‹¤.

<br/>

## @ResponseBody ê°ì²´ ë°˜í™˜

```java
@GetMapping("hello-api")
@ResponseBody
public Hello helloApi(@RequestParam("name") String name) {
	Hello hello = new Hello();
	hello.setName(name);
	return hello;
}
static class Hello {
	private String name;
	public String getName() {
		return name;
	}
	public void setName(String name) {
		this.name = name;
	}
}
```

- ê°ì²´ë¥¼ JSONìœ¼ë¡œ ë°˜í™˜

<br/>

### ë™ì‘ê³¼ì •

1. ì›¹ ë¸Œë¼ìš°ì €ì—ì„œ ìš”ì²­ì„ ë³´ë‚¸ë‹¤.
2. ë‚´ì¥ í†°ì¼“ ì„œë²„ì—ì„œ í•´ë‹¹ ì»¨íŠ¸ë¡¤ëŸ¬ë¥¼ ì°¾ëŠ”ë‹¤.
3. ì»¨íŠ¸ë¡¤ëŸ¬ë¥¼ ì°¾ì•˜ëŠ”ë° @ResponseBodyê°€ ë¶™ì–´ìˆë‹¤.
4. ë·° ë¦¬ì¡¸ë²„ë¥¼ ì‚¬ìš©í•˜ì§€ ì•Šê³  HttpConverterê°€ ë™ì‘í•œë‹¤.
5. ë³€í™˜ëœ ë‚´ìš©ì„ ì›¹ë¸Œë¼ìš°ì €ì— ë°˜í™˜í•œë‹¤.

<br/>

### @ResponseBody

- HTTPì˜ Bodyì— ë‚´ìš© ë°˜í™˜
- viewResolver ëŒ€ì‹ ì— HttpMessageConverterê°€ ë™ì‘
- ê¸°ë³¸ ë¬¸ìì²˜ë¦¬ â†’ StringHttpMessageConverter
- ê¸°ë³¸ ê°ì²´ì²˜ë¦¬ â†’ MappingJackson2HttpMessageConverter

<aside>
ğŸ’¡ í´ë¼ì´ì–¸íŠ¸ì˜ HTTP Accept í•´ë”ì™€ ì„œë²„ì˜ ì»¨íŠ¸ë¡¤ëŸ¬ ë°˜í™˜ íƒ€ì… ì •ë³´ ë‘˜ì„ ì¡°í•©í•´ì„œ `HttpMessageConverter` ê°€ ì„ íƒëœë‹¤.

</aside>